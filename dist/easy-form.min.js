(()=>{"use strict";var t={675:function(t,e,r){r.d(e,{A:()=>s});var n=r(601),i=r.n(n),a=r(314),o=r.n(a)()(i());o.push([t.id,"easy-input{display:block;width:100%}easy-form{display:flex;flex-direction:column}easy-form label{display:block}easy-form input,easy-form textarea{box-sizing:border-box;width:100%}",""]);let s=o},314:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r}).join("")},e.i=function(t,r,n,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(o[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]&&(l[1]="@media ".concat(l[2]," {").concat(l[1],"}")),l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},601:function(t){t.exports=function(t){return t[1]}},72:function(t){var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},a=[],o=0;o<t.length;o++){var s=t[o],u=n.base?s[0]+n.base:s[0],c=i[u]||0,l="".concat(u," ").concat(c);i[u]=c+1;var f=r(l),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var d=function(t,e){var r=e.domAPI(e);return r.update(t),function(e){e?(e.css!==t.css||e.media!==t.media||e.sourceMap!==t.sourceMap||e.supports!==t.supports||e.layer!==t.layer)&&r.update(t=e):r.remove()}}(p,n);n.byIndex=o,e.splice(o,0,{identifier:l,updater:d,references:1})}a.push(l)}return a}t.exports=function(t,i){var a=n(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var s=r(a[o]);e[s].references--}for(var u=n(t,i),c=0;c<a.length;c++){var l=r(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=u}}},659:function(t){var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:function(t,e,r){t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},825:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){var n,i,a;n="",r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {")),(i=void 0!==r.layer)&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}"),(a=r.sourceMap)&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)},remove:function(){var t;null===(t=e).parentNode||t.parentNode.removeChild(t)}}}},113:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,r.rv=()=>"1.5.6",r.ruid="bundler=rspack@1.5.6",(()=>{var t=r(72),e=r.n(t),n=r(825),i=r.n(n),a=r(659),o=r.n(a),s=r(56),u=r.n(s),c=r(540),l=r.n(c),f=r(113),p=r.n(f),d=r(675),h={};h.styleTagTransform=p(),h.setAttributes=u(),h.insert=o().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=l(),e()(d.A,h),d.A&&d.A.locals&&d.A.locals;class b extends HTMLElement{create(t,e={},r=null){this.log(`Creating a new Element of ${t}`);let n=document.createElement(t);return Object.keys(e).forEach(t=>{"content"===t?n.innerHTML=e[t]:n.setAttribute(t,e[t])}),null===r?this.appendChild(n):r.appendChild(n),n}event(t,e={}){let r=new CustomEvent(t,{detail:e});this.dispatchEvent(r)}on(t,e){return console.log("creating event listener...",t),this.addEventListener(t,t=>{e(t.detail)})}async call(t,e={}){let r={"Content-Type":"application/json"};if("localstorage"===this.getAttribute("security-scheme")){let t=localStorage.getItem("bearer-token");r.Authorization=`Bearer ${t}`}let n=new AbortController,i=n.signal,a=this.getAttribute("call-timeout");a&&setTimeout(()=>n.abort(),a);try{let n=await fetch(t,{method:"post",headers:r,body:JSON.stringify(e),signal:i});if(n.ok)return await n.json();throw Error(`HTTP error! status: ${n.status}`)}catch(t){if("AbortError"===t.name)throw Error("Request timed out");throw t}}log(t){this.verbose&&console.log(this.id,"says:",t),this.event("status-update",t)}connectedCallback(){"loading"!==document.readyState?this.preInit():document.addEventListener("DOMContentLoaded",()=>this.preInit())}async preInit(){this.content=this.innerText,this.attrs=this.getAttributeNames().reduce((t,e)=>({...t,[e]:this.getAttribute(e)}),{}),this.classList.add("dataroom-element"),this.observeAttributeChanges(),this.initialize()}async setAttrs(t){for(let[e,r]of(this.log("setting attrs:",t),Object.entries(t)))await this.setAttribute(e,r);this.render()}observeAttributeChanges(){this.log("observing attribute changes"),this.attributeObserver=new MutationObserver(t=>{t.forEach(t=>{"attributes"===t.type&&(this.attrs[t.attributeName]=this.getAttribute(t.attributeName),this.event("NODE-CHANGED",{attribute:t.attributeName,oldValue:t.oldValue,newValue:this.getAttribute(t.attributeName)}))})}),this.attributeObserver.observe(this,{attributes:!0,attributeOldValue:!0})}async initialize(){}disconnectedCallback(){this.log("disconnecting..."),this.disconnect()}async disconnect(){}}function y(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){r(t);return}s.done?e(u):Promise.resolve(u).then(n,i)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(g=function(){return!!t})()}var w=function(t){var e;if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");function r(){var t,e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return t=r,e=arguments,t=v(t),function(t,e){var r;if(e&&("object"==((r=e)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof e))return e;if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this,g()?Reflect.construct(t,e||[],v(this).constructor):t.apply(this,e))}return r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&m(r,t),e=[{key:"initialize",value:function(){var t;return(t=function(){var t,e,r,n;return function(t,e){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){var c=[s,u];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}(this,function(i){if(t=this,console.log(this.attrs),(null==(r=this.attrs)||null==(e=r.name)?void 0:e.length)<1)return this.innerHTML="Name Required",[2];switch(n=this.attrs.label?this.attrs.label:this.attrs.name,this.attrs.type){case"submit":this.submit=this.create("input",{class:"easy-input submit",type:"submit",name:this.attrs.name});break;case"textarea":this.label=this.create("label",{class:"easy-label",for:this.attrs.name,content:n}),this.input=this.create("textarea",{class:"easy-input",name:this.attrs.name});break;default:this.label=this.create("label",{class:"easy-label",for:this.attrs.name,content:n}),this.input=this.create("input",{class:"easy-input",name:this.attrs.name,type:this.attrs.type})}return(this.attrs.required||null!==this.getAttribute("required"))&&(this.input.setAttribute("required",!0),this.classList.add("required")),this.input&&(this.input.addEventListener("input",function(){t.validateInput()}),this.input.addEventListener("blur",function(){t.validateInput()})),[2]})},function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(t){y(a,n,i,o,s,"next",t)}function s(t){y(a,n,i,o,s,"throw",t)}o(void 0)})}).call(this)}},{key:"validateInput",value:function(){if(!this.input)return!0;var t=this.input.value;if(!(t&&""!==t.trim()))return this.classList.remove("invalid-input"),!0;var e=!0;switch(this.attrs.type){case"email":e=this.validateEmail(t);break;case"url":e=this.validateUrl(t);break;case"number":e=this.validateNumber(t);break;case"tel":e=this.validateTel(t);break;default:e=!0}return e?this.classList.remove("invalid-input"):this.classList.add("invalid-input"),e}},{key:"validateEmail",value:function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}},{key:"validateUrl",value:function(t){try{return new URL(t),!0}catch(t){return!1}}},{key:"validateNumber",value:function(t){return!isNaN(t)&&""!==t.trim()}},{key:"validateTel",value:function(t){return/^[+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/.test(t)}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(r.prototype,e),r}(b);function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}customElements.define("easy-input",w);function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return k(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(x=function(){return!!t})()}var S=function(t){var e;if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");function r(){var t,e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return t=r,e=arguments,t=A(t),function(t,e){var r;if(e&&("object"==((r=e)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)||"function"==typeof e))return e;if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this,x()?Reflect.construct(t,e||[],A(this).constructor):t.apply(this,e))}return r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&O(r,t),e=[{key:"connectedCallback",value:function(){var t=this,e=this.querySelector('input[type="submit"]');e&&(this.monitorInputs(e),e.addEventListener("click",function(e){e.preventDefault();var r=t.getFormValues();t.event("submit",r)}))}},{key:"monitorInputs",value:function(t){var e=this;E(this.querySelectorAll("input, textarea")).forEach(function(r){"submit"!==r.type&&r.addEventListener("input",function(){t.disabled=!e.checkRequiredFieldsFilled()})}),t.disabled=!this.checkRequiredFieldsFilled()}},{key:"checkRequiredFieldsFilled",value:function(){return!!E(this.querySelectorAll("input[required], textarea[required]")).every(function(t){return t.value&&""!==t.value.trim()})&&0===E(this.querySelectorAll("easy-input.invalid-input")).length}},{key:"getFormValues",value:function(){var t={};return E(this.querySelectorAll("input, textarea")).forEach(function(e){if(""===e.name)return void console.error("All inputs and textareas need a name attribute");if("submit"!==e.type)switch(e.type){case"number":case"range":t[e.name]=Number(e.value);break;case"checkbox":t[e.name]=e.checked;break;default:t[e.name]=e.value}}),t}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(r.prototype,e),r}(b);customElements.define("easy-form",S)})()})();
//# sourceMappingURL=easy-form.min.js.map